/* Copyright (C) 2007 - 2010 YOOtheme GmbH, YOOtheme Proprietary Use License (http://www.yootheme.com/license) */

var ZooSubmission=new Class({Implements:[Options],initialize:function(c){this.setOptions({element:null},c);this.element=$(this.options.element);this.content_panel=null;$$("div.content").each(function(b){if(b.getElement("#"+this.options.element))this.content_panel=b}.bind(this));if(this.element){this.app=this.element.getElement("select.application");this.submissions=this.element.getElement("div.submissions");this.types=this.element.getElement("div.types");this.setValues();this.app.addEvent("change",
function(){this.setValues();this.content_panel&&this.content_panel.setStyle("height","")}.bind(this));this.element.getElements("select.submission").each(function(b){b.addEvent("change",function(){this.setValues();this.content_panel&&this.content_panel.setStyle("height","")}.bind(this))}.bind(this))}},setValues:function(){var c,b;if(c=this.app.getProperty("value")){b=null;this.element.getElements("select.submission").each(function(a){if(a.hasClass("app-"+c)){a.removeClass("hidden");a.setProperty("name",
a.getProperty("role"));b=a.getProperty("value")}else{a.addClass("hidden");a.setProperty("name","");a.setProperty("value","")}});this.element.getElements("select.type").each(function(a){if(a.hasClass("app-"+c)&&a.hasClass("submission-"+b)){a.removeClass("hidden");a.setProperty("name",a.getProperty("role"))}else{a.addClass("hidden");a.setProperty("name","");a.setProperty("value","")}})}else this.element.getElements("select.submission, select.type").each(function(a){a.addClass("hidden");a.setProperty("name",
"");a.setProperty("value","")})}});
