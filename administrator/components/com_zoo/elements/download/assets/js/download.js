/* Copyright (C) 2007 - 2011 YOOtheme GmbH, YOOtheme Proprietary Use License (http://www.yootheme.com/license) */

(function(d){var a=function(){};a.prototype=d.extend(a.prototype,{name:"ElementDownload",options:{url:"",directory:"images"},initialize:function(b,c){this.options=d.extend({},this.options,c);var e=this;b.find('input[name="reset-hits"]').bind("click",function(){d.ajax({url:e.options.url+"&task=callelement&method=reset",success:function(f){b.replaceWith(f)}})});b.find("select").bind("change",function(){b.find("input:text:first").val(d(this).val()?e.options.directory+d(this).val():"")})}});d.fn[a.prototype.name]=
function(){var b=arguments,c=b[0]?b[0]:null;return this.each(function(){var e=d(this);if(a.prototype[c]&&e.data(a.prototype.name)&&c!="initialize")e.data(a.prototype.name)[c].apply(e.data(a.prototype.name),Array.prototype.slice.call(b,1));else if(!c||d.isPlainObject(c)){var f=new a;a.prototype.initialize&&f.initialize.apply(f,d.merge([e],b));e.data(a.prototype.name,f)}else d.error("Method "+c+" does not exist on jQuery."+a.name)})}})(jQuery);
(function(d){var a=function(){};a.prototype=d.extend(a.prototype,{name:"DownloadSubmission",initialize:function(b){var c=this;this.element=b;this.advanced=b.find("select.upload");this.select_upload=this.advanced.length?this.advanced:b.find("input.upload");b.find("span.download-cancel").bind("click",function(){c.select_upload.val("");b.find("div.download-limit input").val("");c.sanatize()});this.advanced.length&&this.select_upload.bind("change",function(){b.find("span.preview").text(c.select_upload.val().replace(/^.*[\/\\]/g,
""));c.sanatize()});c.sanatize()},sanatize:function(){if(this.select_upload.val()){this.element.find("div.download-select").addClass("hidden");this.element.find("div.download-preview").removeClass("hidden")}else{this.element.find("div.download-select").removeClass("hidden");this.element.find("div.download-preview").addClass("hidden")}}});d.fn[a.prototype.name]=function(){var b=arguments,c=b[0]?b[0]:null;return this.each(function(){var e=d(this);if(a.prototype[c]&&e.data(a.prototype.name)&&c!="initialize")e.data(a.prototype.name)[c].apply(e.data(a.prototype.name),
Array.prototype.slice.call(b,1));else if(!c||d.isPlainObject(c)){var f=new a;a.prototype.initialize&&f.initialize.apply(f,d.merge([e],b));e.data(a.prototype.name,f)}else d.error("Method "+c+" does not exist on jQuery."+a.name)})}})(jQuery);
