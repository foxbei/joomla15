/* Copyright (C) 2007 - 2010 YOOtheme GmbH, YOOtheme Proprietary Use License (http://www.yootheme.com/license) */

Zoo.ImageSubmission=new Class({Implements:[Options],initialize:function(b){this.setOptions({element:"",uri:""},b);var a=this;this.element=$("yoo-zoo").getElement("div."+this.options.element);this.select_image=(this.advanced=this.element.getElement("select.image"))?this.advanced:this.element.getElement("input.image");this.element.getElement("span.image-cancel").addEvent("click",function(){a.select_image.set("value","");a.sanatize()});this.advanced&&this.select_image.addEvent("change",function(){a.element.getElement("img").setProperty("src",
a.options.uri+a.select_image.get("value"));a.sanatize()});a.sanatize()},sanatize:function(){if(this.select_image.get("value")){this.element.getElement("div.image-select").addClass("hidden");this.element.getElement("div.image-preview").removeClass("hidden")}else{this.element.getElement("div.image-select").removeClass("hidden");this.element.getElement("div.image-preview").addClass("hidden")}}});
