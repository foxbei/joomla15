/* Copyright (C) 2007 - 2011 YOOtheme GmbH, YOOtheme Proprietary Use License (http://www.yootheme.com/license) */

function selectRelateditem(a,b,c){document.getElementById("sbox-window").close();jQuery("#"+c.replace(/_/g,"-").replace(/^a/g,"")).ElementRelatedItems("addItem",a,b)}
(function(a){var b=function(){};a.extend(b.prototype,{name:"ElementRelatedItems",options:{variable:null,msgDeleteItem:"Delete Item",msgSortItem:"Sort Item"},initialize:function(c,e){this.options=a.extend({},this.options,e);var d=this;this.list=c.find("ul");this.list.delegate("div.item-delete","click",function(){a(this).closest("li").fadeOut(200,function(){a(this).remove();d.list.css("height",d.list.css("height","").height())})}).sortable({handle:"div.item-sort",placeholder:"dragging",axis:"y",opacity:1,
delay:100,tolerance:"pointer",containment:"parent",forcePlaceholderSize:true,scroll:false,start:function(f,g){g.helper.addClass("ghost")},stop:function(f,g){g.item.removeClass("ghost")}})},addItem:function(c,e){var d=false;this.list.find("li input").each(function(){if(a(this).val()==c)d=true});if(!d){a('<li><div><div class="item-name">'+e+'</div><div class="item-sort" title="'+this.options.msgSortItem+'"></div><div class="item-delete" title="'+this.options.msgDeleteItem+'"></div><input type="hidden" name="'+
this.options.variable+'" value="'+c+'"/></div></li>').appendTo(this.list);this.list.css("height",this.list.css("height","").height())}}});a.fn[b.prototype.name]=function(){var c=arguments,e=c[0]?c[0]:null;return this.each(function(){var d=a(this);if(b.prototype[e]&&d.data(b.prototype.name)&&e!="initialize")d.data(b.prototype.name)[e].apply(d.data(b.prototype.name),Array.prototype.slice.call(c,1));else if(!e||a.isPlainObject(e)){var f=new b;b.prototype.initialize&&f.initialize.apply(f,a.merge([d],
c));d.data(b.prototype.name,f)}else a.error("Method "+e+" does not exist on jQuery."+b.name)})}})(jQuery);
